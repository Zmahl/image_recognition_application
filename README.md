# Image Recognition API

## About
This will be a go application that will receive images and identify objects in the image using it's underlying model

## Required Setup
This application will require a Google Cloud account. In addition, it will also require a Google Cloud storage bucket, an associated service account, and access to the Google Cloud Vision API.

  ### Environment Setup
  `VISION_API_KEY` will require an api key generated by authorization in Google Cloud. More info here: https://cloud.google.com/vision/docs/setup
  `CLOUD_BUCKET_SERVICE_ACCOUNT_CREDENTIALS` will require a json file that contains the permissions for accessing the cloud bucket. Credentials setup can be found here: https://cloud.google.com/storage/docs/authentication
  `CLOUD_BUCKET_NAME` will be the name of the bucket that the application will store images in. It must be created beforehand, and will be a Google Cloud storage bucket. 

## How to Run
This application will require a google cloud storage bucket, with accompanying service account credentials
All environment variables can be seen in `.env.sample`

Run using `go run main.go`. This will use create a default Gin that will listen on `localhost:8080`

## Sample Request & Response
Send an HTTP POST request using a curl command:

```
curl -F "file=@<filepath/image-name>" "localhost:8080/label-image"
```

Response:
```
{
  "labels": ["Water","Photograph","Sky","Building","Boat","Rectangle","Art","Urban design","Travel","Magenta"]
}

```